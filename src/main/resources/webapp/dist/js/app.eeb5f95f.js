webpackJsonp([1],{"+VGo":function(e,t){},"/81T":function(e,t){},0:function(e,t,s){e.exports=s("NHnr")},"4O7i":function(e,t){},BShV:function(e,t){},BiQA:function(e,t){},"C+fi":function(e,t){},Ctvf:function(e,t){},ECbm:function(e,t){},IIN0:function(e,t){},Jmz7:function(e,t){},"K8E+":function(e,t){},KKIW:function(e,t){},MXVP:function(e,t){},MwAl:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("/5sW"),r=(s("CvWX"),{name:"AuthView"}),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth-view row"},[s("div",{staticClass:"left-side-auth col s6"},[s("router-view")],1),s("div",{staticClass:"right-side-auth col s6"},[s("div",{staticClass:"oblique"}),s("router-link",{staticClass:"auth-redirect light-green-text text-accent-2",attrs:{to:"../"}},[e._v("LO MARRACO")])],1)])},i=[],o=s("XyMi");function l(e){s("Ctvf")}var c=!1,u=l,d=null,v=null,m=Object(o["a"])(r,n,i,c,u,d,v),p=m.exports,f=s("Biqn"),h=s.n(f),g=(s("MfeA"),s("NYxO")),w={name:"Header",data:function(){return{}},computed:h()({},Object(g["c"])(["isLogged","loggedUser"])),watch:{},methods:h()({},Object(g["b"])(["getLoggedUser"]),{activePath:function(e){return this.$route.path.match(e)?"active":""}}),mounted:function(){this.isLogged&&this.getLoggedUser();var e=document.querySelector(".dropdown-trigger");e&&M.Dropdown.init(e),console.log(this.loggedUser)}},_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("nav",[s("div",{staticClass:"nav-wrapper green"},[s("div",{staticClass:"row"},[s("router-link",{attrs:{to:"/"}},[s("a",{staticClass:"brand-logo"},[e._v("Lo Marraco")])]),s("ul",{staticClass:"right hide-on-med-and-down"},[s("li",{class:e.activePath("/events")},[s("router-link",{attrs:{to:"/events"}},[e._v("Events")])],1),s("li",{class:e.activePath("/news")},[s("router-link",{attrs:{to:"/news"}},[e._v("News")])],1),e.isLogged?[s("li",[s("a",{staticClass:"dropdown-trigger",attrs:{"data-target":"dropdown1"}},[e._v(e._s(e.loggedUser.firstName)),s("i",{staticClass:"material-icons right"},[e._v("arrow_drop_down")])])]),s("li",{key:"dropdown",staticClass:"dropdown-list"},[s("ul",{staticClass:"dropdown-content",attrs:{id:"dropdown1"}},[e._m(0),s("li",[s("router-link",{staticStyle:{"text-align":"center"},attrs:{to:"/users/"+e.loggedUser.id}},[e._v("Profile")])],1),s("li",[s("a",{staticStyle:{"text-align":"center"},on:{click:function(t){e.$store.dispatch("signOut")}}},[e._v("Logout")])])])])]:[s("li",{key:"login"},[s("router-link",{attrs:{to:"/auth/login"}},[e._v("Login")])],1),s("li",[s("router-link",{attrs:{to:"/auth/signup"}},[e._v("Signup")])],1)],s("li",{class:e.activePath("/about")},[s("router-link",{attrs:{to:"/about"}},[e._v("About")])],1)],2)],1)])])])},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticStyle:{height:"65px"}},[s("a",{staticClass:"dropdown-trigger",staticStyle:{height:"65px"}},[s("i",{staticClass:"material-icons right",staticStyle:{"padding-top":"10px"}},[e._v("arrow_drop_up")])])])}];function C(e){s("MwAl")}var x=!1,N=C,E=null,P=null,y=Object(o["a"])(w,_,b,x,N,E,P),U=y.exports,k={name:"Footer"},$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},S=[];function q(e){s("IIN0")}var O=!1,A=q,I=null,j=null,D=Object(o["a"])(k,$,S,O,A,I,j),B=D.exports,T={name:"Sidebar",mounted:function(){M.Collapsible.init(document.querySelector(".collapsible"))},updated:function(){M.Collapsible.init(document.querySelector(".collapsible"))},computed:h()({},Object(g["c"])(["loggedUser"]))},L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loggedUser.role<4?s("ul",{staticClass:"collapsible sidebar"},[s("li",[e._m(0),s("div",{staticClass:"collapsible-body sb-menu-item"},[s("router-link",{attrs:{to:"/news/create"}},[s("button",{staticClass:"btn white black-text waves-effect waves-light sb-inner-btn",attrs:{type:"submit",name:"action"}},[s("i",{staticClass:"material-icons left"},[e._v("add_box")]),e._v("\n          Add news\n        ")])])],1)]),s("li",[e._m(1),s("div",{staticClass:"collapsible-body sb-menu-item"},[s("router-link",{attrs:{to:"/events/create"}},[s("button",{staticClass:"btn white black-text waves-effect waves-light sb-inner-btn",attrs:{type:"submit",name:"action"}},[s("i",{staticClass:"material-icons left"},[e._v("pin_drop")]),e._v("\n          New event\n        ")])])],1)]),e.loggedUser.role<3?s("li",[e._m(2),s("div",{staticClass:"collapsible-body sb-menu-item"},[s("router-link",{attrs:{to:"/createuser"}},[s("button",{staticClass:"btn white black-text waves-effect waves-light sb-inner-btn",attrs:{type:"submit",name:"action"}},[s("i",{staticClass:"material-icons left"},[e._v("person_add")]),e._v("\n          New user\n        ")])]),s("router-link",{attrs:{to:"/users"}},[s("button",{staticClass:"btn white black-text waves-effect waves-light sb-inner-btn",attrs:{type:"submit",name:"action"}},[s("i",{staticClass:"material-icons left"},[e._v("people")]),e._v("\n          All users\n        ")])]),s("router-link",{attrs:{to:"/pendingusers"}},[s("button",{staticClass:"btn white black-text waves-effect waves-light sb-inner-btn",attrs:{type:"submit",name:"action"}},[s("i",{staticClass:"material-icons left"},[e._v("people")]),e._v("\n          Pending Users\n        ")])])],1)]):e._e()]):e._e()},F=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collapsible-header green white-text"},[s("i",{staticClass:"material-icons"},[e._v("message")]),e._v("News")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collapsible-header green white-text"},[s("i",{staticClass:"material-icons"},[e._v("place")]),e._v("Events")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collapsible-header green white-text"},[s("i",{staticClass:"material-icons"},[e._v("person")]),e._v("Users")])}];function R(e){s("yWYb")}var z=!1,W=R,V=null,H=null,K=Object(o["a"])(T,L,F,z,W,V,H),G=K.exports,X={name:"Layout",components:{Header:U,Footer:B,Sidebar:G},computed:h()({},Object(g["c"])(["isLogged","loggedUserRole"])),mounted:function(){M.Collapsible.init(document.querySelector(".collapsible"))}},J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("Header"),s("div",{staticClass:"layout-main"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s2"},[(e.loggedUserRole,s("sidebar"))],1),s("div",{staticClass:"col s8 main-content"},[e._t("default")],2)])]),s("Footer")],1)},Y=[];function Q(e){s("C+fi")}var Z=!1,ee=Q,te=null,se=null,ae=Object(o["a"])(X,J,Y,Z,ee,te,se),re=ae.exports,ne={name:"App",components:{AuthView:p,Layout:re},computed:{isAuth:function(){return this.$route.path.startsWith("/auth")}}},ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.isAuth?s("auth-view"):s("layout",[s("router-view")],1)],1)},oe=[];function le(e){s("+VGo")}var ce=!1,ue=le,de=null,ve=null,me=Object(o["a"])(ne,ie,oe,ce,ue,de,ve),pe=me.exports,fe=s("/ocq"),he={name:"Modal",data:function(){return{}},props:{title:{type:String},confirm:{type:String,default:"Confirm"},cancel:{type:String,default:"Cancel"},modalId:{type:String,default:"modal"}}},ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",attrs:{id:e.modalId}},[s("div",{staticClass:"modal-content center"},[s("p",[e._v(e._s(e.title))]),s("a",{staticClass:"modal-action modal-close waves-effect waves-light green btn",on:{click:function(t){e.$emit("confirm")}}},[e._v(e._s(e.confirm))]),s("a",{staticClass:"modal-action modal-close waves-effect waves-light red btn",on:{click:function(t){e.$emit("cancel")}}},[e._v(e._s(e.cancel))])])])},we=[];function _e(e){s("hh8o")}var be=!1,Ce=_e,xe=null,Ne=null,Ee=Object(o["a"])(he,ge,we,be,Ce,xe,Ne),Pe=Ee.exports,ye={name:"CreateUser",data:function(){return{user:{firstName:"",lastName:"",firstPhone:"",lastPhone:"",email:"",role:"Member",password:""}}},computed:h()({},Object(g["c"])(["postCreateNewUserError"])),components:{Modal:Pe},mounted:function(){M.FormSelect.init(document.querySelector("select")),M.Modal.init(document.querySelectorAll(".modal"))},methods:h()({},Object(g["b"])(["postCreateNewUser"]),{discardChanges:function(){this.user={}},createNewUser:function(){var e=this;this.$validator.validateAll().then(function(){e.errors.items.length>0||e.postCreateNewUser(e.user)})}})},Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("modal",{attrs:{title:"All changes will be discarded"},on:{confirm:e.discardChanges}}),s("div",{staticClass:"create-user container"},[s("h4",{staticClass:"center"},[e._v("New user")]),s("div",{staticClass:"col s12"},[s("div",{staticClass:"row edit-form"},[s("form",{staticClass:"col s12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"},{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{id:"first_name",type:"text",name:"First Name"},domProps:{value:e.user.firstName},on:{input:function(t){t.target.composing||e.$set(e.user,"firstName",t.target.value)}}}),e._m(0),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("First Name")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"},{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{id:"last_name",type:"text",name:"Last Name"},domProps:{value:e.user.lastName},on:{input:function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)}}}),e._m(1),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Last Name")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstPhone,expression:"user.firstPhone"},{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^\+([0-9]{9,12})$/},expression:"{ required: true, regex: /^\\+([0-9]{9,12})$/ }"}],attrs:{id:"first_phone",type:"text",name:"Phone number"},domProps:{value:e.user.firstPhone},on:{input:function(t){t.target.composing||e.$set(e.user,"firstPhone",t.target.value)}}}),e._m(2),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Phone number")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastPhone,expression:"user.lastPhone"},{name:"validate",rawName:"v-validate",value:{regex:/^\+([0-9]{9,12})$/},expression:"{ regex: /^\\+([0-9]{9,12})$/ }"}],attrs:{id:"secondary_phone",type:"text",name:"Phone number 2"},domProps:{value:e.user.lastPhone},on:{input:function(t){t.target.composing||e.$set(e.user,"lastPhone",t.target.value)}}}),s("label",{attrs:{for:"secondary_phone"}},[e._v("Phone number")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Phone number 2")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",type:"email",name:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e._m(3),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Email")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"password",type:"password",name:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._m(4),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Password")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Role"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user,"role",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Member"}},[e._v("Member")]),s("option",{attrs:{value:"Moderator"}},[e._v("Moderator")]),s("option",{attrs:{value:"Administrator"}},[e._v("Administrator")])]),e._m(5),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Role")))])])])]),s("div",{staticClass:"row center red-text"},[e._v(e._s(e.postCreateNewUserError))]),s("div",{staticClass:"create-user-buttons row center"},[s("a",{staticClass:"waves-effect waves green btn cub-create z-depth-1",class:{disabled:e.errors.items.length>0},on:{click:e.createNewUser}},[e._v("Create")]),s("a",{staticClass:"waves-effect waves blue btn cub-cancel z-depth-1 modal-trigger",attrs:{href:"#modal"}},[e._v("Clear")])])])])])],1)},ke=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"text-green",attrs:{for:"first_name"}},[s("span",{staticClass:"required-field"},[e._v("First Name")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"last_name"}},[s("span",{staticClass:"required-field"},[e._v("Last Name")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"text-green",attrs:{for:"first_phone"}},[s("span",{staticClass:"required-field"},[e._v("Phone number")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"email"}},[s("span",{staticClass:"required-field"},[e._v("Email")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"password"}},[s("span",{staticClass:"required-field"},[e._v("Password")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[s("span",{staticClass:"required-field"},[e._v("Role")])])}];function $e(e){s("hRWh")}var Se=!1,qe=$e,Oe=null,Ae=null,Me=Object(o["a"])(ye,Ue,ke,Se,qe,Oe,Ae),Ie=Me.exports,je={name:"Users",computed:h()({},Object(g["c"])(["users"])),methods:h()({},Object(g["b"])(["getAllUsers"])),created:function(){this.getAllUsers()}},De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users-list"},e._l(e.users,function(t){return s("div",{key:t.id,staticClass:"col m8 offset-m2"},[s("div",{staticClass:"card horizontal"},[s("div",{staticClass:"card-stacked"},[s("router-link",{attrs:{to:"users/"+t.id}},[s("div",{staticClass:"card-content users-list-card-content valign-wrapper row black-text"},[s("div",{staticClass:"user-name col l3"},[s("p",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),s("div",{staticClass:"user-buttons col l9 right-align"},[s("router-link",{attrs:{to:"users/"+t.id}},[s("i",{staticClass:"material-icons black-text"},[e._v("visibility")])]),s("router-link",{attrs:{to:"users/edit/"+t.id}},[s("i",{staticClass:"material-icons black-text"},[e._v("create")])])],1)])])],1)])])}))},Be=[];function Te(e){s("Jmz7")}var Le=!1,Fe=Te,Re=null,ze=null,We=Object(o["a"])(je,De,Be,Le,Fe,Re,ze),Ve=We.exports,He={name:"PendingUsers",data:function(){return{}},methods:h()({},Object(g["b"])(["getPendingUsers","registerUser"]),{acceptUser:function(e){this.registerUser(e)}}),computed:h()({},Object(g["c"])(["pendingUsers"])),created:function(){this.getPendingUsers()}},Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users-list"},e._l(e.pendingUsers,function(t){return s("div",{key:t.id,staticClass:"col m8 offset-m2"},[s("div",{staticClass:"card horizontal"},[s("div",{staticClass:"card-stacked"},[s("div",{staticClass:"card-content users-list-card-content valign-wrapper row"},[s("div",{staticClass:"user-name col l3"},[s("p",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),s("div",{staticClass:"user-buttons col l9 right-align"},[s("router-link",{attrs:{to:"users/"+t.id}},[s("i",{staticClass:"material-icons black-text"},[e._v("visibility")])]),s("router-link",{attrs:{to:"users/edit/"+t.id}},[s("i",{staticClass:"material-icons black-text"},[e._v("create")])]),s("a",{on:{click:function(s){s.preventDefault(),e.acceptUser(t.id)}}},[s("i",{staticClass:"material-icons black-text"},[e._v("check")])])],1)])])])])}))},Ge=[];function Xe(e){s("KKIW")}var Je=!1,Ye=Xe,Qe=null,Ze=null,et=Object(o["a"])(He,Ke,Ge,Je,Ye,Qe,Ze),tt=et.exports,st={name:"UserEdit",data:function(){return{isManager:!1}},methods:h()({},Object(g["b"])(["postEdittedUser","unsubscribeUser","getUserById"]),{showButtons:function(){this.isManager=this.loggedUser.role<3},submitEditting:function(){var e=this;this.$validator.validateAll().then(function(){e.errors.items.length>0||e.postEdittedUser(e.user)})},unsubscribe:function(){this.unsubscribeUser(this.user.id)}}),computed:h()({},Object(g["c"])(["currentUser","loggedUser","postEdittedUserError"])),components:{Modal:Pe},mounted:function(){this.getUserById(this.$route.params.id),M.Modal.init(document.querySelectorAll(".modal")),M.FormSelect.init(document.querySelector("select")),this.showButtons()},updated:function(){this.getUserById(this.$route.params.id),M.Modal.init(document.querySelectorAll(".modal")),M.FormSelect.init(document.querySelector("select"))}},at=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user"},[s("div",{staticClass:"profile"},[s("div",{staticClass:"col s12"},[s("div",{staticClass:"card-panel grey lighten-5 z-depth-1"},[s("modal",{attrs:{title:"All changes will be discarded"},on:{confirm:function(t){e.$router.go(-1)}}}),s("modal",{attrs:{modalId:"unsub",title:"Please confirm unsubscription"},on:{confirm:e.unsubscribe}}),s("a",{staticClass:"waves-effect waves green btn edit-button eb-save z-depth-1",class:{disabled:e.errors.items.length>0},on:{click:function(t){return t.preventDefault(),e.submitEditting(t)}}},[e._v("Save")]),s("a",{staticClass:"waves-effect waves lighten-2 red btn edit-button eb-cancel z-depth-1 modal-trigger",attrs:{href:"#modal"}},[e._v("Cancel")]),s("div",{staticClass:"row edit-form"},[s("p",[e._v(e._s(e.currentUser.firstName))]),s("form",{staticClass:"col s10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.firstName,expression:"currentUser.firstName"},{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{id:"first_name",type:"text",name:"First Name"},domProps:{value:e.currentUser.firstName},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"firstName",t.target.value)}}}),e._m(0),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("First Name")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.lastName,expression:"currentUser.lastName"},{name:"validate",rawName:"v-validate",value:"alpha",expression:"'alpha'"}],attrs:{id:"last_name",type:"text",name:"Last Name"},domProps:{value:e.currentUser.lastName},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"lastName",t.target.value)}}}),e._m(1),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Last Name")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.firstPhone,expression:"currentUser.firstPhone"},{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^\+([0-9]{9,12})$/},expression:"{ required: true, regex: /^\\+([0-9]{9,12})$/ }"}],attrs:{id:"first_phone",type:"text",name:"Phone number"},domProps:{value:e.currentUser.firstPhone},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"firstPhone",t.target.value)}}}),e._m(2),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Phone number")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.lastPhone,expression:"currentUser.lastPhone"},{name:"validate",rawName:"v-validate",value:{regex:/^\+([0-9]{9,12})$/},expression:"{ regex: /^\\+([0-9]{9,12})$/ }"}],attrs:{id:"secondary_phone",type:"text",name:"Phone number 2"},domProps:{value:e.currentUser.lastPhone},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"lastPhone",t.target.value)}}}),s("label",{staticClass:"active",attrs:{for:"secondary_phone"}},[e._v("Phone number")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Phone number 2")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.email,expression:"currentUser.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",type:"email",name:"Email"},domProps:{value:e.currentUser.email},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"email",t.target.value)}}}),e._m(3),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Email")))])])]),s("div",{staticClass:"row"},[e.isManager?s("div",{staticClass:"input-field col s12"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.role,expression:"currentUser.role"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Role"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.currentUser,"role",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Member"}},[e._v("Member")]),s("option",{attrs:{value:"Moderator"}},[e._v("Moderator")]),s("option",{attrs:{value:"Administrator"}},[e._v("Administrator")])]),e._m(4),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Role")))])]):e._e()])]),s("div",{staticClass:"row center red-text"},[e._v(e._s(e.postEdittedUserError))])]),s("a",{staticClass:"waves-effect waves blue darken-2 btn edit-button eb-unsub z-depth-1 modal-trigger",attrs:{href:"#unsub"},on:{click:e.unsubscribe}},[e._v("Unsubscribe")])],1)])])])},rt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"active text-green",attrs:{for:"first_name"}},[s("span",{staticClass:"required-field"},[e._v("First Name")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"active",attrs:{for:"last_name"}},[s("span",{staticClass:"required-field"},[e._v("Last Name")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"active text-green",attrs:{for:"first_phone"}},[s("span",{staticClass:"required-field"},[e._v("Phone number")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"active",attrs:{for:"email"}},[s("span",{staticClass:"required-field"},[e._v("Email")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[s("span",{staticClass:"required-field"},[e._v("Role")])])}];function nt(e){s("k5sW")}var it=!1,ot=nt,lt=null,ct=null,ut=Object(o["a"])(st,at,rt,it,ot,lt,ct),dt=ut.exports,vt={name:"UserView",data:function(){return{isMyProfile:!1,hasEditRights:!1}},methods:h()({},Object(g["b"])(["getUserById","clearCurrentUser"]),{showButtons:function(){this.isMyProfile=parseInt(this.$route.params.id)===this.loggedUser.id,this.hasEditRights=this.isMyProfile||this.loggedUser.role<3}}),computed:h()({},Object(g["c"])(["currentUser","loggedUser"])),components:{Modal:Pe},mounted:function(){this.getUserById(this.$route.params.id),this.showButtons()},beforeRouteLeave:function(e,t,s){this.clearCurrentUser(),s()}},mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user"},[s("div",{staticClass:"profile"},[s("div",{staticClass:"col s12"},[s("div",{staticClass:"card-panel grey lighten-5 z-depth-1"},[e.hasEditRights?s("div",[s("a",{staticClass:"waves-effect waves grey lighten-5 black-text btn edit-button eb-edit z-depth-1",on:{click:function(t){e.$router.push("/users/edit/"+e.$route.params.id)}}},[s("i",{staticClass:"material-icons left"},[e._v("mode_edit")]),e._v("\n            Edit\n          ")]),e.isMyProfile?s("a",{staticClass:"waves-effect waves grey lighten-5 black-text btn edit-button eb-password z-depth-2",on:{click:function(t){e.$router.push("/users/edit/changepassword")}}},[e._v("\n            Change password\n          ")]):e._e()]):e._e(),s("div",{staticClass:"row center"},[s("h3",[e._v("\n              "+e._s(e.currentUser.firstName)+" "+e._s(e.currentUser.lastName)+"\n            ")]),s("h5",[e._v(e._s(e.currentUser.firstPhone)+" "+e._s(e.currentUser.lastPhone))]),s("h5",[e._v(e._s(e.currentUser.email))])])])])])])},pt=[];function ft(e){s("waH9")}var ht=!1,gt=ft,wt=null,_t=null,bt=Object(o["a"])(vt,mt,pt,ht,gt,wt,_t),Ct=bt.exports,xt={name:"EditPassword",data:function(){return{currentPassword:"",newPassword:"",repeatPassword:"",notEqualError:"",serverError:""}},computed:h()({},Object(g["c"])(["changePasswordServerError"])),methods:h()({},Object(g["b"])(["changePassword"]),{editPassword:function(){var e=this;this.$validator.validateAll().then(function(){e.errors.items.length>0||(e.newPassword===e.repeatPassword?e.changePassword({currentPassword:e.currentPassword,newPassword:e.newPassword,repeatPassword:e.repeatPassword}):e.notEqualError="Passwords are not equal")})}})},Nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"change-password-form col s6 offset-s3",on:{submit:function(t){return t.preventDefault(),e.previewEvent(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPassword,expression:"currentPassword"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"validate",attrs:{id:"current-password",type:"password",name:"Current password"},domProps:{value:e.currentPassword},on:{input:[function(t){t.target.composing||(e.currentPassword=t.target.value)},function(t){e.serverError=""}]}}),s("label",{class:{active:e.currentPassword},attrs:{for:"current-password"}},[e._v("Current password")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Current password")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"new-password",type:"password",name:"New password"},domProps:{value:e.newPassword},on:{input:[function(t){t.target.composing||(e.newPassword=t.target.value)},function(t){e.notEqualError=""}]}}),s("label",{class:{active:e.newPassword},attrs:{for:"new-password"}},[e._v("New password")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("New password")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword,expression:"repeatPassword"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"repeat-password",type:"password",name:"Repeat password"},domProps:{value:e.repeatPassword},on:{input:[function(t){t.target.composing||(e.repeatPassword=t.target.value)},function(t){e.notEqualError=""}]}}),s("label",{class:{active:e.repeatPassword},attrs:{for:"repeat-password"}},[e._v("Repeat password")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Repeat password")))])])]),s("div",{staticClass:"row red-text center"},[e._v(e._s(e.notEqualError||e.changePasswordServerError))]),s("div",{staticClass:"row center"},[s("a",{staticClass:"waves-effect green waves-light btn",class:{disabled:e.serverError},on:{click:e.editPassword}},[e._v("Change")]),s("a",{staticClass:"waves-effect red lighten-2 red btn",on:{click:function(t){e.$router.go(-1)}}},[e._v("Cancel")])])])},Et=[];function Pt(e){s("TGdc")}var yt=!1,Ut=Pt,kt=null,$t=null,St=Object(o["a"])(xt,Nt,Et,yt,Ut,kt,$t),qt=St.exports,Ot={name:"EventShortcut",props:["event"],computed:h()({},Object(g["c"])(["isLogged"]))},At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"event-shortcut container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[e.isLogged?s("router-link",{staticClass:"waves-effect green btn-floating edit-event-button",attrs:{to:"events/edit/"+e.event.id}},[s("i",{staticClass:"material-icons left "},[e._v("edit")])]):e._e(),s("div",{staticClass:"card white darken-1"},[s("div",{staticClass:"card-content black-text"},[s("span",{staticClass:"card-title"},[e._v(e._s(e.event.title))]),s("p",[e._v("Where: "+e._s(e.event.location))]),s("p",[e._v("When: "+e._s(e.event.date)+" "+e._s(e.event.time))])]),s("div",{staticClass:"card-action"},[s("router-link",{staticClass:"green-text",attrs:{to:"/events/"+e.event.id}},[e._v("More")])],1)])],1)])])},Mt=[];function It(e){s("rUSs")}var jt=!1,Dt=It,Bt=null,Tt=null,Lt=Object(o["a"])(Ot,At,Mt,jt,Dt,Bt,Tt),Ft=Lt.exports,Rt={name:"Events",computed:h()({},Object(g["c"])(["allEvents"])),methods:h()({},Object(g["b"])(["getAllEvents"])),created:function(){this.getAllEvents()},components:{EventShortcut:Ft},mounted:function(){console.log(this.allEvents)}},zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"event-list"},e._l(e.allEvents,function(e){return s("event-shortcut",{key:e.id,attrs:{event:e}})}))},Wt=[];function Vt(e){s("hA1P")}var Ht=!1,Kt=Vt,Gt=null,Xt=null,Jt=Object(o["a"])(Rt,zt,Wt,Ht,Kt,Gt,Xt),Yt=Jt.exports,Qt={name:"CreateEditEvent",data:function(){return{eventData:{id:null,title:"",location:"",description:"",date:"",time:"",price:"",capacityMin:"",capacityMax:"",role:"",labels:[{label:""}]},isEdit:this.$route.path.match(/edit/)}},components:{Modal:Pe},computed:h()({},Object(g["c"])(["certainEvent","getEventPreview"]),{disabledByFields:function(){var e=this.eventData;return!e.title||!e.location||!e.description||!e.date||!e.time||!e.price}}),methods:h()({},Object(g["b"])(["setEventPreview"]),{abort:function(){this.$router.go(-1)},previewEvent:function(){this.setEventPreview(h()({},this.eventData,{labels:this.eventData.labels})),this.$router.push("/events/preview")},addField:function(){this.eventData.labels.push({label:""})},removeField:function(e){this.eventData.labels.splice(e,1)}}),mounted:function(){if(M.FormSelect.init(document.querySelector("select")),M.Modal.init(document.querySelectorAll(".modal")),this.isEdit)this.eventData=this.certainEvent;else{var e=this.getEventPreview;e&&(this.eventData=e)}}},Zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"create-event-form container"},[s("modal",{attrs:{title:"All changes will be discarded"},on:{confirm:e.abort}}),s("modal",{attrs:{modalId:"modal-delete",title:"Please confirm deletion"},on:{confirm:e.abort}}),s("h4",{staticClass:"center"},[e._v("Event body")]),s("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.previewEvent(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.title,expression:"eventData.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"validate",attrs:{id:"event-title",type:"text",name:"Title"},domProps:{value:e.eventData.title},on:{input:function(t){t.target.composing||e.$set(e.eventData,"title",t.target.value)}}}),s("label",{class:{active:e.eventData.title},attrs:{for:"event-title"}},[e._v("Title")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Title")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.date,expression:"eventData.date"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"event-date",type:"text",name:"Date"},domProps:{value:e.eventData.date},on:{input:function(t){t.target.composing||e.$set(e.eventData,"date",t.target.value)}}}),s("label",{class:{active:e.eventData.date},attrs:{for:"event-date"}},[e._v("Date")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Date")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.time,expression:"eventData.time"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"event-time",type:"text",name:"Time"},domProps:{value:e.eventData.time},on:{input:function(t){t.target.composing||e.$set(e.eventData,"time",t.target.value)}}}),s("label",{class:{active:e.eventData.time},attrs:{for:"event-time"}},[e._v("Time")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Time")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.location,expression:"eventData.location"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"validate",attrs:{id:"event-location",type:"text",name:"Location"},domProps:{value:e.eventData.location},on:{input:function(t){t.target.composing||e.$set(e.eventData,"location",t.target.value)}}}),s("label",{class:{active:e.eventData.location},attrs:{for:"event-location"}},[e._v("Location")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Location")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.price,expression:"eventData.price"},{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"validate",attrs:{id:"event-price",type:"text",name:"Price"},domProps:{value:e.eventData.price},on:{input:function(t){t.target.composing||e.$set(e.eventData,"price",t.target.value)}}}),s("label",{class:{active:e.eventData.price},attrs:{for:"event-price"}},[e._v("Price")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Price")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.eventData.description,expression:"eventData.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"materialize-textarea",attrs:{id:"event-description",name:"Description"},domProps:{value:e.eventData.description},on:{input:function(t){t.target.composing||e.$set(e.eventData,"description",t.target.value)}}}),s("label",{class:{active:e.eventData.description},attrs:{for:"event-text"}},[e._v("Description")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Description")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.capacityMin,expression:"eventData.capacityMin"}],staticClass:"validate",attrs:{id:"event-cap-min",type:"text",placeholder:"0",name:"Min capacity"},domProps:{value:e.eventData.capacityMin},on:{input:function(t){t.target.composing||e.$set(e.eventData,"capacityMin",t.target.value)}}}),s("label",{class:{active:e.eventData.capacityMin},attrs:{for:"event-cap-min"}},[e._v("Min capacity")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Min capacity")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventData.capacityMax,expression:"eventData.capacityMax"}],staticClass:"validate",attrs:{id:"event-cam-max",type:"text",placeholder:"0",name:"Max capacity"},domProps:{value:e.eventData.capacityMax},on:{input:function(t){t.target.composing||e.$set(e.eventData,"capacityMax",t.target.value)}}}),s("label",{class:{active:e.eventData.capacityMax},attrs:{for:"event-cam-max"}},[e._v("Max capacity")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Max capacity")))])])])]),s("h4",{staticClass:"center"},[e._v("Event registration")]),s("div",{staticClass:"row"},[e._l(e.eventData.labels,function(t,a){return s("div",{key:a},[s("div",{staticClass:"input-field col offset-s3 s5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label.label"}],attrs:{id:t+"-reg-form",type:"text"},domProps:{value:t.label},on:{input:function(s){s.target.composing||e.$set(t,"label",s.target.value)}}}),s("label",{class:{active:t.label},attrs:{for:t+"-reg-form"}},[e._v("Input name")])]),s("div",{staticClass:"input-props col s4 valign-wrapper"},[s("i",{staticClass:"material-icons red-text delete-input",on:{click:function(t){t.preventDefault(),e.removeField(a)}}},[e._v("clear")])])])}),s("a",{staticClass:"waves-effect waves-light green col offset-s4 s4 btn",on:{click:function(t){return t.preventDefault(),e.addField(t)}}},[e._v("Add field")])],2),s("hr"),s("div",{staticClass:"create-event-buttons row center"},[s("a",{staticClass:"waves-effect green waves-light btn",class:{disabled:e.errors.items.length>0||e.disabledByFields},on:{click:e.previewEvent}},[e._v("Preview")]),s("a",{staticClass:"waves-effect red lighten-2 red btn modal-trigger",attrs:{href:"#modal"}},[e._v("Cancel")]),e.isEdit?s("a",{staticClass:"waves-effect red darken-2 red btn modal-trigger",attrs:{href:"#modal-delete"}},[e._v("Delete")]):e._e()])],1)},es=[];function ts(e){s("BShV")}var ss=!1,as=ts,rs=null,ns=null,is=Object(o["a"])(Qt,Zt,es,ss,as,rs,ns),os=is.exports,ls={name:"EventItem",props:["event"],data:function(){return{showRegistration:!1,eventRegistrationForm:{},isSignUpFieldsEmpty:!0}},components:{Modal:Pe},computed:h()({},Object(g["c"])(["loggedUser"])),methods:h()({},Object(g["b"])(["signUpForEvent"]),{openRegistration:function(){this.showRegistration=!0},eventSignUp:function(){var e=this;this.$validator.validateAll().then(function(){e.errors.items.length>0||e.signUpForEvent(e.loggedUser.id)})},inputOnBlur:function(){for(var e in this.eventRegistrationForm)if(""===this.eventRegistrationForm[e])return void(this.isSignUpFieldsEmpty=!0);this.isSignUpFieldsEmpty=!1}}),mounted:function(){M.Modal.init(document.querySelectorAll(".modal"))}},cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"event-item container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("div",{staticClass:"card white darken-1"},[s("div",{staticClass:"card-content black-text"},[s("span",{staticClass:"card-title center event-title"},[e._v(e._s(e.event.title))]),s("p",{staticClass:"event-description"},[e._v(e._s(e.event.description))]),s("div",{staticClass:"where-when container"},[s("div",{staticClass:"row"},[s("p",{staticClass:"col s6"},[e._v("Where: "),s("span",[e._v(e._s(e.event.location))])]),s("p",{staticClass:"col s6"},[e._v("When: "),s("span",[e._v(e._s(e.event.date)+" "+e._s(e.event.time))])])])]),e.event.capacityMin&&e.event.capacityMax?s("p",{staticClass:"center"},[e._v("Capacity: minimum "+e._s(e.event.capacityMin)+" and maximum "+e._s(e.event.capacityMax))]):e._e(),s("p",[e._v("Price:"+e._s(0!==e.event.price?" "+e.event.price+"$":" Free!"))])]),s("div",{staticClass:"card-action"},[s("router-link",{staticClass:"green-text",attrs:{to:"../"}},[e._v("Back")]),e.showRegistration?e._e():s("a",{staticClass:"green-text reg-button",on:{click:e.openRegistration}},[e._v("Registration")])],1)])])]),e.showRegistration?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center"},[e._v("Register for the event")]),s("form",{on:{submit:function(e){e.preventDefault()}}},[e._l(e.event.labels,function(t,a){return s("div",{key:a,staticClass:"input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventRegistrationForm[t.label],expression:"eventRegistrationForm[label.label]"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:t.label+"-reg-form",type:"text",name:t.label},domProps:{value:e.eventRegistrationForm[t.label]},on:{blur:e.inputOnBlur,input:function(s){s.target.composing||e.$set(e.eventRegistrationForm,t.label,s.target.value)}}}),s("label",{attrs:{for:t.label+"-reg-form"}},[e._v(e._s(t.label))]),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first(t.label)))])])}),e.$route.path.match("preview")?e._e():s("a",{staticClass:"waves-effect green waves-light btn event-btn-signup col s2 offset-s5",class:{disabled:e.errors.items.length>0},on:{click:e.eventSignUp}},[e._v("Sign up")])],2)])]):e._e()])},us=[];function ds(e){s("MXVP")}var vs=!1,ms=ds,ps=null,fs=null,hs=Object(o["a"])(ls,cs,us,vs,ms,ps,fs),gs=hs.exports,ws={name:"EventPreview",components:{EventItem:gs},computed:h()({},Object(g["c"])(["getEventPreview"])),methods:h()({},Object(g["b"])([,"postNewEvent","putEdittedEvent"]),{publish:function(){this.getEventPreview.id?this.putEdittedEvent(this.getEventPreview.id):this.postNewEvent()},cancel:function(){this.$router.go(-1)}})},_s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("event-item",{attrs:{event:e.getEventPreview}}),s("div",{staticClass:"create-event-buttons row center"},[s("a",{staticClass:"waves-effect green waves-light btn",on:{click:e.publish}},[e._v("Publish")]),s("a",{staticClass:"waves-effect red lighten-2 red btn",on:{click:e.cancel}},[e._v("Back")])])],1)},bs=[];function Cs(e){s("/81T")}var xs=!1,Ns=Cs,Es=null,Ps=null,ys=Object(o["a"])(ws,_s,bs,xs,Ns,Es,Ps),Us=ys.exports,ks={name:"EventPreview",components:{EventItem:gs},computed:h()({},Object(g["c"])(["certainEvent"])),mounted:function(){this.getEventById(this.$route.params.id)},methods:h()({},Object(g["b"])(["clearEventPreview","getEventById"]),{cancel:function(){this.$router.go(-1)}})},$s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("event-item",{attrs:{event:e.certainEvent}}),s("div",{staticClass:"create-event-buttons row center"},[s("a",{staticClass:"waves-effect red lighten-2 red btn",on:{click:e.cancel}},[e._v("Back")])])],1)},Ss=[];function qs(e){s("SIk9")}var Os=!1,As=qs,Ms=null,Is=null,js=Object(o["a"])(ks,$s,Ss,Os,As,Ms,Is),Ds=js.exports,Bs={name:"NewsItem",props:["news"],methods:{changeSize:function(e){e.currentTarget.classList.toggle("shorten")},changeSizeWithButton:function(){document.getElementsByClassName("news-text-"+this.news.id)[0].classList.toggle("shorten")}},computed:h()({},Object(g["c"])(["isLogged"]))},Ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"news-item col s12"},[s("h3",{staticClass:"header"},[e._v(e._s(e.news.title))]),!e.$route.path.match("preview")&&e.isLogged?s("router-link",{attrs:{to:"news/edit/"+e.news.id}},[s("a",{staticClass:"waves-effect green btn-floating edit-news-button"},[s("i",{staticClass:"material-icons left "},[e._v("edit")])])]):e._e(),s("div",{staticClass:"card horizontal"},[s("div",{staticClass:"card-stacked"},[s("div",{staticClass:"card-content news-text shorten",class:"news-text-"+e.news.id,on:{click:e.changeSize}},[e._v("\r\n            "+e._s(e.news.body)+"\r\n          ")]),s("div",{staticClass:"news-btn"},[s("a",{staticClass:"waves-effect waves-light btn-large green",on:{click:e.changeSizeWithButton}},[e._v("Show/Hide")])])])])],1)])])},Ls=[];function Fs(e){s("K8E+")}var Rs=!1,zs=Fs,Ws=null,Vs=null,Hs=Object(o["a"])(Bs,Ts,Ls,Rs,zs,Ws,Vs),Ks=Hs.exports,Gs={name:"NewsList",computed:h()({},Object(g["c"])(["allNews"])),methods:h()({},Object(g["b"])(["getNews"])),created:function(){this.getNews()},components:{NewsItem:Ks}},Xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.allNews,function(e){return s("news-item",{key:e.id,attrs:{news:e}})}))},Js=[];function Ys(e){s("BiQA")}var Qs=!1,Zs=Ys,ea=null,ta=null,sa=Object(o["a"])(Gs,Xs,Js,Qs,Zs,ea,ta),aa=sa.exports,ra={name:"NewsCreator",data:function(){return{title:"",text:""}},methods:h()({},Object(g["b"])(["setNewsPreview","clearNewsPreview"]),{previewNews:function(){this.setNewsPreview({title:this.title,body:this.text}),this.$router.push("/news/preview")},abort:function(){this.clearNewsPreview(),this.$router.push("/news")}}),computed:h()({},Object(g["c"])(["getNewsById"]),{disabledByFields:function(){return!this.title||!this.text}}),mounted:function(){M.Modal.init(document.querySelectorAll(".modal")),M.FormSelect.init(document.querySelector("select"));var e=this.getNewsPreview;e&&(this.title=e.title,this.text=e.text)},components:{Modal:Pe},beforeRouteLeave:function(e,t,s){"/news/preview"!==e.path&&this.clearNewsPreview(),s()}},na=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"create-news-form container"},[s("modal",{attrs:{title:"All changes will be discarded"},on:{confirm:e.abort}}),s("form",{staticClass:"col s12",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"news-title",type:"text",name:"Title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),s("label",{class:{active:e.title},attrs:{for:"news-title"}},[e._v("Title")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Title")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"materialize-textarea active",attrs:{id:"news-text",name:"Text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),s("label",{class:{active:e.text},attrs:{for:"news-text"}},[e._v("Text")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Text")))])])])]),s("div",{staticClass:"create-news-buttons row center"},[s("a",{staticClass:"waves-effect green waves-light btn",class:{disabled:e.errors.items.length>0||e.disabledByFields},on:{click:e.previewNews}},[e._v("Preview")]),s("a",{staticClass:"waves-effect red lighten-2 red btn modal-trigger",attrs:{href:"#modal"}},[e._v("Cancel")])])],1)},ia=[];function oa(e){s("ECbm")}var la=!1,ca=oa,ua=null,da=null,va=Object(o["a"])(ra,na,ia,la,ca,ua,da),ma=va.exports,pa={name:"NewsEditor",data:function(){return{}},methods:h()({},Object(g["b"])(["getNewsById","setNewsPreview","clearNewsPreview","deleteNews"]),{previewNews:function(){var e=this;this.$validator.validateAll().then(function(){e.errors.items.length>0||(e.setNewsPreview({title:e.title,text:e.body,id:e.id}),e.$router.push("/news/preview"))})},abort:function(){this.clearNewsPreview(),this.$router.push("/news")},deleteNewsById:function(){this.deleteNews(this.$route.params.id)}}),computed:h()({},Object(g["c"])(["currentNews"])),mounted:function(){M.Modal.init(document.querySelectorAll(".modal")),M.FormSelect.init(document.querySelector("select")),this.getNewsById(this.$route.params.id)},components:{Modal:Pe},beforeRouteLeave:function(e,t,s){"/news/preview"!==e.path&&this.clearNewsPreview(),s()}},fa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"create-news-form container"},[s("modal",{attrs:{title:"All changes will be discarded"},on:{confirm:e.abort}}),s("modal",{attrs:{modalId:"modal-delete",title:"Please confirm deletion"},on:{confirm:e.deleteNewsById}}),s("form",{staticClass:"col s12",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentNews.title,expression:"currentNews.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"news-title",type:"text",name:"Title"},domProps:{value:e.currentNews.title},on:{input:function(t){t.target.composing||e.$set(e.currentNews,"title",t.target.value)}}}),s("label",{class:{active:e.currentNews.title},attrs:{for:"news-title"}},[e._v("Title")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Title")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentNews.body,expression:"currentNews.body"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"materialize-textarea active",attrs:{id:"news-text",name:"Text"},domProps:{value:e.currentNews.body},on:{input:function(t){t.target.composing||e.$set(e.currentNews,"body",t.target.value)}}}),s("label",{class:{active:e.currentNews.body},attrs:{for:"news-text"}},[e._v("Text")]),s("span",{staticClass:"helper-text red-text"},[e._v(e._s(e.errors.first("Text")))])])])]),s("div",{staticClass:"create-news-buttons row center"},[s("a",{staticClass:"waves-effect green waves-light btn",class:{disabled:e.errors.items.length>0},on:{click:e.previewNews}},[e._v("Preview")]),s("a",{staticClass:"waves-effect red lighten-2 red btn modal-trigger",attrs:{href:"#modal"}},[e._v("Cancel")]),s("a",{staticClass:"waves-effect red darken-2 red btn modal-trigger",attrs:{href:"#modal-delete"}},[e._v("Delete")])])],1)},ha=[];function ga(e){s("U+o6")}var wa=!1,_a=ga,ba=null,Ca=null,xa=Object(o["a"])(pa,fa,ha,wa,_a,ba,Ca),Na=xa.exports,Ea={name:"NewsPreview",components:{NewsItem:Ks},computed:h()({},Object(g["c"])(["getNewsPreview"])),methods:h()({},Object(g["b"])(["postNewNews","putNews"]),{publish:function(){var e=this.getNewsPreview;this.$route.path.match(/previewedit/)?this.putNews(e):this.postNewNews(e)},cancel:function(){this.$router.go(-1)}})},Pa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("news-item",{attrs:{news:e.getNewsPreview}}),s("div",{staticClass:"create-news-buttons row center"},[s("a",{staticClass:"waves-effect green waves-light btn",on:{click:e.publish}},[e._v("Publish")]),s("a",{staticClass:"waves-effect red lighten-2 red btn",on:{click:e.cancel}},[e._v("Cancel")])])],1)},ya=[];function Ua(e){s("aTWi")}var ka=!1,$a=Ua,Sa=null,qa=null,Oa=Object(o["a"])(Ea,Pa,ya,ka,$a,Sa,qa),Aa=Oa.exports,Ma={name:"Login",components:{AuthView:p},data:function(){return{email:"",password:"",serverError:""}},methods:h()({},Object(g["b"])(["postSignIn"]),{signInPost:function(){this.postSignIn({username:this.email,password:this.password})}}),computed:h()({},Object(g["c"])(["isLoading","loginError"]),{disabledByFields:function(){return!this.email||!this.password||this.isLoading}}),mounted:function(){}},Ia=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("h1",{staticClass:"center-align"},[e._v("Welcome!")]),s("div",{staticClass:"row"},[s("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",type:"email",name:"email"},domProps:{value:e.email},on:{input:[function(t){t.target.composing||(e.email=t.target.value)},function(t){e.serverError=""}]}}),s("label",{attrs:{for:"email"}},[e._v("Email")]),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first("email")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"password",type:"password",name:"password"},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.serverError=""}],keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signInPost(t):null}}}),s("label",{attrs:{for:"password"}},[e._v("Password")]),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first("password")))])])]),e.serverError?s("div",{staticClass:"server-error center red-text"},[e._v(e._s(e.serverError))]):e._e(),s("div",{staticClass:"center-align submit-buttons"},[s("a",{staticClass:"waves-effect waves-light btn-large green",class:{disabled:e.errors.items.length>0||e.disabledByFields},on:{click:e.signInPost}},[e._v("Login")]),s("router-link",{staticClass:"btn-flat green-text",attrs:{to:"signup"}},[e._v("Don't have account?")])],1)])])])},ja=[];function Da(e){s("fuvO")}var Ba=!1,Ta=Da,La=null,Fa=null,Ra=Object(o["a"])(Ma,Ia,ja,Ba,Ta,La,Fa),za=Ra.exports,Wa={name:"Signup",components:{AuthView:p},data:function(){return{user:{email:"",firstName:"",lastName:"",password:""}}},computed:h()({},Object(g["c"])(["postSignUpError"]),{disabledByFields:function(){return!this.user.email||!this.user.password||this.user.isLoading||!this.user.firstName}}),methods:h()({},Object(g["b"])(["postSignUp"]),{signUp:function(){this.postSignUp(this.user)}})},Va=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup"},[s("h1",{staticClass:"center-align"},[e._v("Welcome!")]),s("div",{staticClass:"row"},[s("form",{staticClass:"col s12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"},{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{id:"first-name",type:"text",name:"firstName"},domProps:{value:e.user.firstName},on:{input:[function(t){t.target.composing||e.$set(e.user,"firstName",t.target.value)},function(t){e.serverError=""}]}}),e._m(0),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first("firstName")))])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"},{name:"validate",rawName:"v-validate",value:"alpha",expression:"'alpha'"}],attrs:{id:"last-name",type:"text",name:"lastName"},domProps:{value:e.user.lastName},on:{input:[function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)},function(t){e.serverError=""}]}}),s("label",{attrs:{for:"last-name"}},[e._v("Last Name")]),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first("lastName")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",type:"email",name:"email"},domProps:{value:e.user.email},on:{input:[function(t){t.target.composing||e.$set(e.user,"email",t.target.value)},function(t){e.serverError=""}]}}),e._m(1),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first("email")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"password",type:"password",name:"password"},domProps:{value:e.user.password},on:{input:[function(t){t.target.composing||e.$set(e.user,"password",t.target.value)},function(t){e.serverError=""}]}}),e._m(2),s("span",{staticClass:"helper-text red-text",attrs:{"data-error":"wrong","data-success":"right"}},[e._v(e._s(e.errors.first("password")))])])]),s("div",{staticClass:"row red-text center"},[e._v("\n        "+e._s(e.postSignUpError)+"\n      ")]),s("div",{staticClass:"center-align submit-buttons"},[s("a",{staticClass:"waves-effect waves-light btn-large green",class:{disabled:e.errors.items.length>0||e.disabledByFields},on:{click:e.signUp}},[e._v("Sign Up!")]),s("router-link",{staticClass:"btn-flat green-text",attrs:{to:"login"}},[e._v("Already have account?")])],1)])])])},Ha=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"text-green",attrs:{for:"first-name"}},[s("span",{staticClass:"required-field"},[e._v("First Name")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"email"}},[s("span",{staticClass:"required-field"},[e._v("Email")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"password"}},[s("span",{staticClass:"required-field"},[e._v("Password")])])}];function Ka(e){s("4O7i")}var Ga=!1,Xa=Ka,Ja="data-v-17cca6b5",Ya=null,Qa=Object(o["a"])(Wa,Va,Ha,Ga,Xa,Ja,Ya),Za=Qa.exports,er={name:"About"},tr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},sr=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"text-title"},[s("h1",[e._v("About web-site")]),s("h4",[e._v('"One two, three four five six seven - eigth nine ten, nine eight seven..."')]),s("h5",[e._v('"Someone`s interesting words..."')])]),s("hr"),s("div",{staticClass:"text-body"},[s("h4",{staticStyle:{"padding-bottom":"30px"}},[e._v("Company`s information:")]),s("p",[e._v("Different company information")]),s("p",[e._v("Such as phone-number")]),s("p",[e._v("Bank information")]),s("p",[e._v("Maybe some images")]),s("p",[e._v("And etc.")])]),s("hr"),s("div",{staticClass:"contact-mail"},[s("p",{staticStyle:{"text-align":"center"}},[e._v("If you have any business question`s, feel free to contact us: "),s("a",{attrs:{href:"#"}},[e._v("mail@gmail.com")])])])])}];function ar(e){s("afz7")}var rr=!1,nr=ar,ir=null,or=null,lr=Object(o["a"])(er,tr,sr,rr,nr,ir,or),cr=lr.exports;a["a"].use(fe["a"]);var ur,dr=new fe["a"]({mode:"history",routes:[{path:"/",redirect:"/news"},{path:"",redirect:"/news"},{path:"/events",component:Yt},{path:"/about",component:cr},{path:"/events/create",component:os},{path:"/events/edit/:id",component:os},{path:"/events/preview",component:Us},{path:"/events/:id",component:Ds},{path:"/news",component:aa},{path:"/news/create",component:ma},{path:"/news/edit/:id",component:Na},{path:"/news/preview",component:Aa},{path:"/news/previewedit",component:Aa},{path:"/users",component:Ve},{path:"/pendingusers",component:tt},{path:"/users/edit/changepassword",component:qt},{path:"/users/edit/:id",component:dt},{path:"/users/:id",component:Ct},{path:"/createuser",component:Ie},{path:"/auth/login",component:za},{path:"/auth/signup",component:Za}]}),vr=s("mtWM"),mr=s.n(vr),pr={state:{isLogged:null!=localStorage.getItem("eventAppToken"),isLoading:!1,loggedUser:{},postSignUpError:"",postSignInError:""},getters:{isLogged:function(e){return e.isLogged},isLoading:function(e){return e.isLoading},loggedUser:function(e){return e.loggedUser},loggedUserId:function(e){return e.loggedUser.id},loggedUserName:function(e){return e.loggedUser.firstName},loggedUserRole:function(e){return e.loggedUser.role},postSignInError:function(e){return e.postSignInError},postSignUpError:function(e){return e.postSignUpError}},mutations:{setIsLogged:function(e,t){e.isLogged=t},setUser:function(e,t){e.loggedUser=t},setRole:function(e,t){e.role=t},setUserFromSignIn:function(e,t){e.loggedUser={firstName:t.firstName,id:t.id,role:t.role}},setAuthToken:function(e,t){e.authToken=t},toggleLoading:function(e){e.isLoading=!e.isLoading},setPostSignInError:function(e,t){e.postSignInError=t},setPostSignUpError:function(e,t){e.postSignUpError=t},signOut:function(e){e.isLogged=!1,e.loggedUser={},e.authToken=""}},actions:{postSignIn:function(e,t){var s=e.commit;e.state;return s("toggleLoading"),s("setPostSignInError",""),mr.a.post("".concat(br,"/auth"),t).then(function(e){return s("setIsLogged",!0),s("setUserFromSignIn",e.data),Cr.dispatch("setAuthToken",e.data.auth.token),dr.push("/"),e}).catch(function(e){return s("setPostSignInError","Wrong credentials"),e}).then(function(e){return s("toggleLoading"),e})},postSignUp:function(e,t){var s=e.commit;return s("toggleLoading"),s("setPostSignUpError",""),mr.a.post("".concat(br,"/register"),t).then(function(e){return dr.push("/"),e}).catch(function(e){return s("setPostSignUpError","Failed to sign up"),console.dir(e),e}).then(function(e){return s("toggleLoading"),e})},signOut:function(e){var t=e.commit;t("signOut"),Cr.dispatch("setAuthToken",""),dr.push("/")},getLoggedUser:function(e){var t=e.commit;e.state;mr.a.get("".concat(br,"/users/me"),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){console.log("set current user to "+e.data.email),t("setUser",e.data)}).catch(function(e){console.dir(e)})}}},fr=(s("WpTh"),{state:{users:[],pendingUsers:[],currentUser:{},changePasswordError:"",postCreateNewUserError:"",postEdittedUserError:"",changePasswordServerError:""},getters:{users:function(e){return e.users},currentUser:function(e){return e.currentUser},pendingUsers:function(e){return e.pendingUsers},userById:function(e){return function(t){return e.currentUser}},pendingUserById:function(e){return function(t){return e.pendingUsers.find(function(e){return e.id===t})}},postCreateNewUserError:function(e){return e.postCreateNewUserError},postEdittedUserError:function(e){return e.postEdittedUserError},changePasswordServerError:function(e){return e.changePasswordServerError}},mutations:{setUsers:function(e,t){e.users=t},setPendingUsers:function(e,t){e.pendingUsers=t},setCurrentUser:function(e,t){e.currentUser=t},setPostCreateNewUserError:function(e,t){e.postCreateNewUserError=t},setPostEdittedUserError:function(e,t){e.postEdittedUserError=t},setChangePasswordServerError:function(e,t){e.changePasswordServerError=t}},actions:{getAllUsers:function(e){var t=e.commit;return mr.a.get("".concat(br,"/users/registered"),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return t("setUsers",e.data),e}).catch(function(e){return console.dir(e),e})},getUserById:function(e,t){var s=e.commit;return mr.a.get("".concat(br,"/users/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return s("setCurrentUser",e.data),e}).catch(function(e){return console.dir(e),e})},getPendingUsers:function(e){var t=e.commit;return mr.a.get("".concat(br,"/users/unregistered"),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return t("setPendingUsers",e.data),e}).catch(function(e){return console.log(e),e})},postEdittedUser:function(e,t){var s=e.commit;return s("setPostEdittedUserError",""),mr.a.post("".concat(br,"/edituser"),t).then(function(e){return dr.push({path:"/users/"+t.id}),e}).catch(function(e){return s("setPostEdittedUserError",e),e})},changePassword:function(e,t){var s=e.commit;return s("changePasswordServerError",""),mr.a.post("".concat(br,"/changePassword"),t).then(function(e){return dr.go(-1),e}).catch(function(e){s("changePasswordServerError",e)})},unsubscribeUser:function(e,t){e.commit,e.state;return mr.a.post("".concat(br,"/unsubscribe?id:").concat(t)).then(function(e){return dr.push({path:"/"}),e}).catch(function(e){return console.dir(e),e})},postCreateNewUser:function(e,t){var s=e.commit;return s("setPostCreateNewUserError",""),mr.a.post("".concat(br,"/createnewuser"),t).then(function(e){return dr.push({path:"/users"}),e}).catch(function(e){return s("setPostCreateNewUserError",e),console.dir(e),e})},registerUser:function(e,t){e.commit;mr()({method:"PUT",url:"".concat(br,"/register/").concat(t),headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")},data:{}}).then(function(e){dr.push({path:"/pendingusers"})}).catch(function(e){console.dir(e)})},clearCurrentUser:function(e){var t=e.commit;t("setCurrentUser",{})}}}),hr={state:{news:[],currentNews:{},preview:null},getters:{allNews:function(e){return e.news},currentNews:function(e){return e.currentNews},getNewsPreview:function(e){return e.preview},getNewsById:function(e){return function(t){return e.news.find(function(e){return e.id===t})}}},mutations:{setNewsPreview:function(e,t){e.preview=t},setCurrentNews:function(e,t){e.currentNews=t},clearNewsPreview:function(e){e.preview=null},setNews:function(e,t){e.news=t}},actions:{setNewsPreview:function(e,t){var s=e.commit;s("setNewsPreview",t)},clearNewsPreview:function(e){var t=e.commit;t("clearNewsPreview")},getNews:function(e){var t=e.commit;return mr.a.get("".concat(br,"/news"),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return t("setNews",e.data),e}).catch(function(e){return console.log(e),e})},getNewsById:function(e,t){var s=e.commit;return mr.a.get("".concat(br,"/news/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return s("setNewsPreview",e.data),s("setCurrentNews",e.data),e}).catch(function(e){return console.dir(e),e})},postNewNews:function(e,t){var s=e.commit;return mr.a.post("".concat(br,"/news"),t,{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return s("clearNewsPreview"),dr.push({path:"/news"}),e}).catch(function(e){return console.dir(e),e})},putNews:function(e,t){var s=e.commit;return mr.a.put("".concat(br,"/news"),t).then(function(e){return s("clearNewsPreview"),dr.push({path:"/news"}),e}).catch(function(e){return console.dir(e),e})},deleteNews:function(e,t){e.commit;return mr.a.delete("".concat(br,"/news/").concat(t)).then(function(e){return dr.push({path:"/news"}),e}).catch(function(e){return console.dir(e),e})}}},gr=s("fKPv"),wr=s.n(gr),_r={state:{events:[],certainEvent:null,preview:null},getters:{allEvents:function(e){return e.events},getEventById:function(e){return function(t){return e.events.find(function(e){return e.id===t})}},getEventPreview:function(e){return e.preview},certainEvent:function(e){return e.certainEvent}},mutations:(ur={setEvents:function(e,t){e.events=t},setEventPreview:function(e,t){var s=t.labels.filter(function(e){if(""!==e.label)return e});e.preview=t,e.preview.labels=s},clearEventPreview:function(e){e.preview=null}},wr()(ur,"setEvents",function(e,t){e.events=t}),wr()(ur,"setCertainEvent",function(e,t){e.certainEvent=t}),ur),actions:{getAllEvents:function(e){var t=e.commit;return mr.a.get("".concat(br,"/events"),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return console.log(e),t("setEvents",e.data),e}).catch(function(e){return console.dir(e),e})},getEventById:function(e,t){var s=e.commit;return mr.a.get("".concat(br,"/events/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")}}).then(function(e){return s("setCertainEvent",{id:t,title:e.data.firstName,date:e.data.date,description:e.data.info,location:e.data.location,price:e.data.price,capacityMin:e.data.minNumberOfRegistrations,capacityMax:e.data.maxNumberOfRegistrations}),e}).catch(function(e){return console.dir(e),e})},postNewEvent:function(e){e.commit;var t=e.state,s={date:"2018-05-07T18:18:35.260Z",firstName:t.preview.title,info:t.preview.description,location:t.preview.location,maxNumberOfRegistrations:0,minNumberOfRegistrations:0,price:1*t.preview.price};mr()({method:"POST",url:"".concat(br,"/events"),headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")},data:s}).then(function(e){return dr.push({path:"/events"}),e}).catch(function(e){console.dir(e)})},putEdittedEvent:function(e,t){var s=e.commit,a=e.state;return a.preview.id=t,mr.a.put("events/".concat(t),a.preview).then(function(e){return s("clearEventPreview"),dr.push({path:"/events"}),e}).catch(function(e){console.dir(e)})},signUpForEvent:function(e,t){e.commit;mr()({method:"POST",url:"".concat(br,"/events/registration"),headers:{Authorization:"Bearer "+localStorage.getItem("eventAppToken")},data:{eventId:t}}).then(function(e){dr.push({path:"/events"})}).catch(function(e){console.dir(e)})},setEventPreview:function(e,t){var s=e.commit;s("setEventPreview",t)},clearEventPreview:function(e){var t=e.commit;t("clearEventPreview")}}};a["a"].use(g["a"]);var br="http://7d159034.ngrok.io",Cr=new g["a"].Store({state:{authToken:""},getters:{authToken:function(e){return e.authToken}},mutations:{setAuthToken:function(e,t){localStorage.setItem("eventAppToken",t),e.authToken=t}},actions:{setAuthToken:function(e,t){var s=e.commit;s("setAuthToken",t)}},modules:{auth:pr,users:fr,news:hr,events:_r}}),xr=s("ydGU");Object(xr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Nr=s("sUu7");a["a"].config.productionTip=!1,a["a"].use(Nr["a"]),new a["a"]({router:dr,store:Cr,render:function(e){return e(pe)}}).$mount("#app")},SIk9:function(e,t){},TGdc:function(e,t){},"U+o6":function(e,t){},aTWi:function(e,t){},afz7:function(e,t){},fuvO:function(e,t){},hA1P:function(e,t){},hRWh:function(e,t){},hh8o:function(e,t){},k5sW:function(e,t){},rUSs:function(e,t){},waH9:function(e,t){},yWYb:function(e,t){}},[0]);
//# sourceMappingURL=app.eeb5f95f.js.map